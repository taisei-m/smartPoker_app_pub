
<!DOCTYPE html><html xmlns:og="http://ogp.me/ns#"><head><meta charset="UTF-8" /><title>webpack4対応webpack-dev-serverの主要な設定オプション(CLI,webpack.config.js)の意味と挙動 - Qiita</title><meta content="width=device-width,initial-scale=1" name="viewport" /><meta content="

概要

Webpack 4を利用した開発に便利な webpack-dev-server の設定メモです。
webpack-dev-serverのソースコードと公式wiki、公式Docを参考に実動確認した結果を書きます。

HMR等オートリロード系の設定(--hotとかとか--inlineとか)やよく使いそうなCLIオプションなど理解しておくためのメモです。


環境

本投稿で使っている環境は以下の通り。


webpack-dev-server:3.1.7
web..." name="description" /><meta content="#55c500" name="theme-color" /><meta content="JavaScript,Node.js,webpack,webpack-dev-server" name="keywords" /><meta content="summary" name="twitter:card" /><meta content="@Qiita" name="twitter:site" /><meta content="webpack4対応webpack-dev-serverの主要な設定オプション(CLI,webpack.config.js)の意味と挙動 - Qiita" property="og:title" /><meta content="article" property="og:type" /><meta content="https://qiita.com/riversun/items/d27f6d3ab7aaa119deab" property="og:url" /><meta content="https://cdn.qiita.com/assets/qiita-fb-2887e7b4aad86fd8c25cea84846f2236.png" property="og:image" /><meta content="# 概要
Webpack 4を利用した開発に便利な webpack-dev-server の設定メモです。
**webpack-dev-server**の[ソースコード](https://github.com/webpack/webp..." property="og:description" /><meta content="Qiita" property="og:site_name" /><meta content="564524038" property="fb:admins" /><link rel="canonical" href="https://qiita.com/riversun/items/d27f6d3ab7aaa119deab" /><link rel="shortcut icon" type="image/x-icon" href="https://cdn.qiita.com/assets/favicons/public/production-4ff10c1e1e2b5fcb353ff9cafdd56c70.ico" /><link rel="apple-touch-icon" type="image/png" href="https://cdn.qiita.com/assets/favicons/public/apple-touch-icon-f9a6afad761ec2306e10db2736187c8b.png" /><link href="/opensearch.xml" rel="search" title="Qiita" type="application/opensearchdescription+xml" /><link rel="stylesheet" media="all" href="https://cdn.qiita.com/assets/public-4f706e01d3434c39cb88e3801d567b92.min.css" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="9Y0ydtA0boMe/HkEhLNxpe+wauDQhSJaMZGTbUla8JHPaIfxXgrzmvmDuZmiSVqgP9iubaGdV7TJDSIQvR4HUQ==" /><script>
  window.gtmDataLayer = [
    {
      'analytics.dimension5': 'false',
      'app.env': 'production',
      'app.layoutVersion': 1,
      'app.userId': 419770
    },
    { 'gtm.start': new Date().getTime(), event: 'gtm.js' }
  ];
</script>
<script src="https://www.googletagmanager.com/gtm.js?id=GTM-TBQWPN&l=gtmDataLayer" async></script>
<script>window.frtn=window.frtn||function(){ (frtn.q=frtn.q||[]).push(arguments) };
frtn("init",{
service_id:"cova_248",
site_id:"site_134",
tag_id:"tag_283"
});
frtn("send","pageview");</script><script defer="" src="https://frtn.socdm.com/tags/insight.js" type="text/javascript"></script><script>!function(t,e){if(void 0===e[t]){e[t]=function(){e[t].clients.push(this),this._init=[Array.prototype.slice.call(arguments)]},e[t].clients=[];for(var r=function(t){return function(){return this["_"+t]=this["_"+t]||[],this["_"+t].push(Array.prototype.slice.call(arguments)),this}},s=["blockEvents","unblockEvents","setSignedMode","setAnonymousMode","resetUUID","addRecord","fetchGlobalID","set","trackEvent","trackPageview","trackClicks","ready"],n=0;n<s.length;n++){var c=s[n];e[t].prototype[c]=r(c)}var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=("https:"===document.location.protocol?"https:":"http:")+"//cdn.treasuredata.com/sdk/2.1/td.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a)}}("Treasure",this);

// Configure an instance for your database
var td = new Treasure({
  host: 'in.treasuredata.com',
  writeKey: '10614/f5a4453704ad12facc47fe5281fd57526a6119e9',
  database: 'qiita_public',
  startInSignedMode: true
});

// Enable cross-domain tracking
td.set('$global', 'td_global_id', 'td_global_id');
// Track pageview information to 'pageviews' table
td.set('pageviews_all', {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"riversun","type":"items","id":"d27f6d3ab7aaa119deab"},"user_id":419770})
td.trackPageview('pageviews_all');</script><script>td.set('pageviews_login_user', {"query_parameters":{},"path_parameters":{"controller":"public/items","action":"show","user_id":"riversun","type":"items","id":"d27f6d3ab7aaa119deab"},"user_id":419770})
td.trackPageview('pageviews_login_user');</script></head><body class="without-js" id=""><noscript><iframe height="0" src="//www.googletagmanager.com/ns.html?id=GTM-TBQWPN" style="display:none;visibility:hidden" width="0"></iframe></noscript><script>
  document.body.className = document.body.className.replace('without-js', '') + ' with-js';
  window.Qiita = {"asset_host":"cdn.qiita.com","action_path":"public/items#show","flash":{},"config":{"default_locale":"en","locale":"ja"},"user":{"id":419770,"url_name":"taisei-fej","profile_image_url":"https://lh3.googleusercontent.com/-tOmemluaza8/AAAAAAAAAAI/AAAAAAAAAA8/WrK0APpLeWk/s50/photo.jpg","email":"yomichi.o.terasu.house@gmail.com","staff":false},"GIT_BRANCH":null};

  /* You are logged in */
</script>
<div class="st-HeaderContainer"><div id="GlobalHeaderContainer-react-component-38d04bb6-7bfd-4973-9a86-20510d7d3261"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="GlobalHeaderContainer" data-dom-id="GlobalHeaderContainer-react-component-38d04bb6-7bfd-4973-9a86-20510d7d3261">{"user":{"team_only":false,"url_name":"taisei-fej","profile_image_url":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Flh3.googleusercontent.com%2F-tOmemluaza8%2FAAAAAAAAAAI%2FAAAAAAAAAA8%2FWrK0APpLeWk%2Fs50%2Fphoto.jpg?ixlib=rb-1.2.2\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=d0bef76cf8780bbd6f8b46fc1d5fe5de"},"realms":[{"human_name":"Qiita","is_current_realm":true,"is_qiita":true,"is_qiita_team":false,"logged_in_user":{"profile_image_url":"https://lh3.googleusercontent.com/-tOmemluaza8/AAAAAAAAAAI/AAAAAAAAAA8/WrK0APpLeWk/s50/photo.jpg","url_name":"taisei-fej"},"team_id":null,"url":"https://qiita.com/"}],"teamFindUrl":"https://teams-center.qiita.com/find_team","unreadNotificationsCount":0,"locale":"ja","is_fluid":false,"is_staff":false,"is_jobseeker":false}</script>
      
</div><div class="st-HeaderAlert st-HeaderAlert-warning"><div class="st-HeaderAlert_body"></div></div><div id="main"><script>td.set('pageviews_article', {user_id: "419770", article_id: "694001", article_uuid: "d27f6d3ab7aaa119deab" })
td.trackPageview('pageviews_article')</script><script async="" src="https://cdn.bigmining.com/private/js/qiita_bigmining.js"></script><img style="display:block;margin:0;padding:0;border:0;outline:0;width:0;height:0;line-height:0;" alt="" src="https://relay-dsp.ad-m.asia/dmp/sync/bizmatrix?pid=c3ed207b574cf11376&amp;d=x18o8hduaj&amp;uid=419770" /><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-129076670-1', 'auto', { name: 'userTracker' });
ga('userTracker.send', 'pageview');</script><script async="" src="https://www.google-analytics.com/analytics.js"></script><script type="application/ld+json">{  "@context": "http://schema.org",  "@type": "BreadcrumbList",  "itemListElement": [    {      "@type": "ListItem",      "position": 1,      "item": {        "@id": "/",        "name": "Qiita"      }    },    {      "@type": "ListItem",      "position": 2,      "item": {        "@id": "/tags/javascript",        "name": "JavaScript"      }    }  ]}</script><article class="p-items logged-in" itemscope="itemscope" itemtype="http://schema.org/Article"><div class="p-items_wrapper"><div class="p-items_container"><div class="p-items_stickyMenu it-Actions" data-mount-target="articleStickyMenu"></div><div class="p-items_main"><div class="p-items_article" data-article-props="{&quot;body&quot;:&quot;\n\u003ch1\u003e\n\u003cspan id=\&quot;概要\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E6%A6%82%E8%A6%81\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e概要\u003c/h1\u003e\n\n\u003cp\u003eWebpack 4を利用した開発に便利な webpack-dev-server の設定メモです。\u003cbr\u003e\n\u003cstrong\u003ewebpack-dev-server\u003c/strong\u003eの\u003ca href=\&quot;https://github.com/webpack/webpack-dev-server\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003eソースコード\u003c/a\u003eと\u003ca href=\&quot;https://github.com/webpack/docs/wiki/webpack-dev-server\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003e公式wiki\u003c/a\u003e、\u003ca href=\&quot;https://webpack.js.org/configuration/dev-server/\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003e公式Doc\u003c/a\u003eを参考に実動確認した結果を書きます。\u003c/p\u003e\n\n\u003cp\u003eHMR等オートリロード系の設定(\u003ccode\u003e--hot\u003c/code\u003eとかとか\u003ccode\u003e--inline\u003c/code\u003eとか)やよく使いそうなCLIオプションなど理解しておくためのメモです。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;環境\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E7%92%B0%E5%A2%83\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e環境\u003c/h1\u003e\n\n\u003cp\u003e本投稿で使っている環境は以下の通り。\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ewebpack-dev-server:3.1.7\u003c/li\u003e\n\u003cli\u003ewebpack:4.17.1\u003c/li\u003e\n\u003cli\u003ewebpack-cli:3.1.0\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;webpack-dev-server-とは\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#webpack-dev-server-%E3%81%A8%E3%81%AF\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003ewebpack-dev-server とは\u003c/h1\u003e\n\n\u003cp\u003e\u003ca href=\&quot;https://github.com/webpack/webpack-dev-server\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ewebpack-dev-server\u003c/a\u003eは\u003ca href=\&quot;https://webpack.js.org/\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ewebpack\u003c/a\u003eを用いたフロントエンド開発のときに利用できる開発用のwebサーバー。\u003cbr\u003e\n\u003cstrong\u003e*.js\u003c/strong\u003eファイルやリソースファイルを\u003cstrong\u003e更新すると即座に反映してくれる\u003c/strong\u003e機能をもっている。\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003ewebpack-dev-server\u003c/strong\u003eの後継が\u003ca href=\&quot;https://github.com/webpack-contrib/webpack-serve\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ewebpack-serve\u003c/a\u003eになって\u003cstrong\u003ewebpack-dev-server\u003c/strong\u003eはメンテナンスモードに入るという話もあったが方針が変わり、今後も\u003cstrong\u003ewebpack-dev-server\u003c/strong\u003eは\u003ca href=\&quot;https://qiita.com/riversun/items/52e2d8d95812c209502c\&quot; id=\&quot;reference-ddc5be92d3ebcc236cd3\&quot;\u003e開発継続される模様\u003c/a\u003e。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;インストール\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eインストール\u003c/h1\u003e\n\n\u003cp\u003e通常、グローバルではなくローカルインストールする\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003enpm \u003cspan class=\&quot;nb\&quot;\u003einstall \u003c/span\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--save-dev\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;いちばんシンプルな起動\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%81%84%E3%81%A1%E3%81%B0%E3%82%93%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AA%E8%B5%B7%E5%8B%95\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eいちばんシンプルな起動\u003c/h1\u003e\n\n\u003cp\u003e以下のように、特別な設定などを行っていないまっさらな状態で起動して\u003cstrong\u003ewebpack-dev-server\u003c/strong\u003eのデフォルトの挙動を確認する。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003e何も設定していない状態のディレクトリ\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;o\&quot;\u003e[\u003c/span\u003eproject_dir]\n |-package.json\n |-src\n |  |-index.js\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003epackage.json\u003c/strong\u003eのscriptsに以下のように記述して \u003ccode\u003enpm start\u003c/code\u003e で起動\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;json\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003epackage\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;scripts\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;start\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;webpack-dev-server\&quot;\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;起動結果\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E8%B5%B7%E5%8B%95%E7%B5%90%E6%9E%9C\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e起動結果\u003c/h3\u003e\n\n\u003cp\u003e以下のようになる\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003eエントリポイントは \u003cstrong\u003e./src/index.js\u003c/strong\u003e\n\u003c/li\u003e\n\u003cli\u003eコンテンツのルート(content-base)はプロジェクトのワークディレクトリの直下 \u003cstrong\u003e/\u003c/strong\u003e \u003c/li\u003e\n\u003cli\u003eホストは \u003cstrong\u003e\u003ca href=\&quot;http://localhost:8080\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttp://localhost:8080\u003c/a\u003e\u003c/strong\u003e\n\u003c/li\u003e\n\u003cli\u003eバンドルは \u003cstrong\u003e\u003ca href=\&quot;http://localhost:8080/main.js\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttp://localhost:8080/main.js\u003c/a\u003e\u003c/strong\u003e \u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003e一応起動はできるが、このままだとほぼ使えないので各種設定を行う。\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;packagejsoncli実行の設定例\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#packagejsoncli%E5%AE%9F%E8%A1%8C%E3%81%AE%E8%A8%AD%E5%AE%9A%E4%BE%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003epackage.json(CLI実行)の設定例\u003c/h1\u003e\n\n\u003cp\u003e以下のようにwebpack-dev-serverを起動オプションつきで起動することで様々な設定をすることができる\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003epackage.json　(CLIで実行する場合)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e  \u003cspan class=\&quot;s2\&quot;\u003e\&quot;scripts\&quot;\u003c/span\u003e: \u003cspan class=\&quot;o\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;s2\&quot;\u003e\&quot;start\&quot;\u003c/span\u003e: \u003cspan class=\&quot;s2\&quot;\u003e\&quot;webpack-dev-server --hot --inline --watch-content-base --content-base public/ --open-page index.html \&quot;\u003c/span\u003e,\n   .......\n  \u003cspan class=\&quot;o\&quot;\u003e}\u003c/span\u003e,\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e詳しい設定内容は後述するが、各オプションの意味は以下のとおり\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003e--hot\u003c/code\u003eでHMR(Hot Module Replacement)を有効にする\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003e--inline\u003c/code\u003eでjsコードが変更されたら（コンパイルして）自動的にブラウザをリロードする。ブラウザ自動リロードのための仕組みがinlineモードで実行される。\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003e--content-base public/\u003c/code\u003eでhtmlやcssなどを置いておくコンテンツベースとなるディレクトリを\u003cstrong\u003e[作業ディレクトリ]/public/\u003c/strong\u003eに指定する\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003e--watch-content-base\u003c/code\u003eで、htmlやcssなどファイルが変更されたらブラウザを自動的にリロードする\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003e--open-page index.html\u003c/code\u003eで、サーバー起動後、自動的に（デフォルトの）ブラウザを開き、指定されたページここでは\u003cstrong\u003eindex.html\u003c/strong\u003eを開く\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003enpm start\u003c/code\u003eでwebpack-dev-serverを起動する\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;設定と各種挙動\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E8%A8%AD%E5%AE%9A%E3%81%A8%E5%90%84%E7%A8%AE%E6%8C%99%E5%8B%95\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e設定と各種挙動\u003c/h1\u003e\n\n\u003cp\u003e通常の開発では\u003cstrong\u003ewebpack-dev-server\u003c/strong\u003eに各種起動オプションを指定して挙動を制御するが、何をどう設定すると、どう動くのか、デフォルト（省略時）はどうなのかという点を意識して代表的な設定をまとめる。\u003c/p\u003e\n\n\u003ch2\u003e\n\u003cspan id=\&quot;ブラウザの自動リロード\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%81%AE%E8%87%AA%E5%8B%95%E3%83%AA%E3%83%AD%E3%83%BC%E3%83%89\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eブラウザの自動リロード\u003c/h2\u003e\n\n\u003cp\u003ewebpack-dev-serverの大きな特長の１つはオートリフレッシュ(自動更新)機能である。\u003cbr\u003e\nコードやリソースに変更があったら自動的に読み直してくれる。\u003c/p\u003e\n\n\u003cp\u003e混同しがちなのはオートリフレッシュ機能とHMR(Hot Module Replacement)機能。\u003c/p\u003e\n\n\u003cp\u003ewebpack-dev-serverはデフォルトだとオートリフレッシュ機能により、コードに変更があった場合、自動的にブラウザ全体をリロードしてくれる。ブラウザ全体をリロードするのでフォームに入力していた値などはクリアされてしまう。\u003c/p\u003e\n\n\u003cp\u003eそこで、ブラウザ全体をリロードするのではなく、変更したモジュール（jsコード）だけを置き換えてくれるのがのが\u003cstrong\u003eHMR\u003c/strong\u003e(Hot Module Replacement)という機能だが、この機能を使うためにはこのサーバー側の設定だけではなく、アプリ側もHMRのお作法で設計する必要がある。（reactなど有名フレームワークはこの機能に対応しているものがある）\u003c/p\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;1オートリフレッシュ自動再読込の設定\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#1%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%81%AE%E8%A8%AD%E5%AE%9A\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(1)オートリフレッシュ(自動再読込)の設定\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;1-1-オートリフレッシュ自動再読込をinlineモードで実行する\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#1-1-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92inline%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(1)-1 オートリフレッシュ(自動再読込)をinlineモードで実行する\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--inline\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003econfigに設定する場合(webpack.config.js)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n   \u003cspan class=\&quot;nl\&quot;\u003einline\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;kc\&quot;\u003etrue\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003e\n\u003cstrong\u003e--inline\u003c/strong\u003eは\u003cstrong\u003e省略可能\u003c/strong\u003e。省略してもデフォルトで\u003cstrong\u003einline\u003c/strong\u003eモードになる\u003c/li\u003e\n\u003cli\u003eこの設定では、オートリフレッシュを実現するためのコードがバンドル(最終jsコード)の中にwebpack-dev-serverによって自動的に追加される。つまりdist/main.jsとしてアクセスできるバンドル内にオートリフレッシュのためのコードが組み込まれた状態になる。\u003c/li\u003e\n\u003cli\u003e次の項(1)-2で説明する iframe　モードで使いたい場合は、inlineモードでもURLに \u003cstrong\u003e/webpack-dev-server\u003c/strong\u003e をつけてアクセスする（例 \u003ca href=\&quot;http://localhost:8080/webpack-dev-server/\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttp://localhost:8080/webpack-dev-server/\u003c/a\u003e ）ことでiframeモードでアクセスできる\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;1-2-オートリフレッシュ自動再読込をiframeモードで実行する\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#1-2-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92iframe%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(1)-2 オートリフレッシュ(自動再読込)をiframeモードで実行する\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--no-inline\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003econfigに設定する場合(webpack.config.js)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n   \u003cspan class=\&quot;nl\&quot;\u003einline\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;kc\&quot;\u003efalse\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003eiframeの中でアプリを動作させるモード。\u003cbr\u003e\n実行すると画面上部には実行ステータスが表示される。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;1-3-オートリフレッシュ自動再読込を無効にする\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#1-3-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(1)-3 オートリフレッシュ(自動再読込)を無効にする。\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--lazy\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003econfigに設定する場合(webpack.config.js)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n   \u003cspan class=\&quot;nl\&quot;\u003elazy\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;kc\&quot;\u003etrue\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003eオートリフレッシュが無効の場合、手動でブラウザのリロードすればリコンパイルされる。\nwatchOptionsも無効になる　\u003c/li\u003e\n\u003cli\u003e\n\u003ccode\u003e--hot\u003c/code\u003eオプションとは併用できない\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;2リソースコンテンツhtmlファイルなどと自動読み込み\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#2%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84html%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AA%E3%81%A9%E3%81%A8%E8%87%AA%E5%8B%95%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(2)リソース・コンテンツ(htmlファイルなど)と自動読み込み\u003c/h1\u003e\n\n\u003cp\u003ewebpack-dev-serverはwebサーバーでもあるので当然ながらhtmlやcssもホストすることができる。\u003cbr\u003e\n公開するディレクトリをコンテンツベース(content base)という。\u003c/p\u003e\n\n\u003cp\u003eまた、jsコードだけでなくhtmlなどリソースファイルを監視(watch)し、それらが変更された場合に、自動的にリロードされるように設定できる。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;2-1-コンテンツベース公開するリソースのルートとなるディレクトリの指定\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#2-1-%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%99%E3%83%BC%E3%82%B9%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%88%E3%81%A8%E3%81%AA%E3%82%8B%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E6%8C%87%E5%AE%9A\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(2)-1 コンテンツベース(公開するリソースのルートとなるディレクトリ)の指定\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e[作業dir]\n|― src\n|― public\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eとなっているときに\u003cstrong\u003e/public\u003c/strong\u003eというディレクトリを公開する場合\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--content-base\u003c/span\u003e public/\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003econfigに設定する場合(webpack.config.js)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;nl\&quot;\u003econtentBase\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003epath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ejoin\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003e__dirname\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003epublic\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e)\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;2-2-バンドルにアクセスするためのpublicpathの指定\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#2-2-%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AEpublicpath%E3%81%AE%E6%8C%87%E5%AE%9A\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(2)-2 バンドルにアクセスするためのpublicPathの指定\u003c/h3\u003e\n\n\u003cp\u003ewebpack-dev-serverによってビルドされたバンドル(js)は、このpublicPathで指定したパスでアクセスできる。\u003c/p\u003e\n\n\u003cp\u003e以下のようなフォルダ構成のときバンドル\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;text\&quot;\u003e\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e[作業dir]\n|― src\n    |― index.js\n    |― foo.js\n    |― bar.js\n|― public\n    |― index.html\n\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003esrc以下にあるソースjsファイルを結合した（コンパイル、マージなどなど）バンドルは\u003cstrong\u003eデフォルト\u003c/strong\u003eでは\u003cbr\u003e\n\u003cstrong\u003e\u003ca href=\&quot;http://localhost:8080/main.js\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttp://localhost:8080/main.js\u003c/a\u003e\u003c/strong\u003e としてブラウザからアクセスできる。\u003c/p\u003e\n\n\u003cp\u003e例えば、webpack.config.jsのpublicPathを以下のように \u003cstrong\u003e\&quot;/js/\&quot;\u003c/strong\u003eと指定すると\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003ewebpack.config.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003emodule\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eexports\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;c1\&quot;\u003e//...\u003c/span\u003e\n    \u003cspan class=\&quot;na\&quot;\u003eoutput\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n        \u003cspan class=\&quot;c1\&quot;\u003e//...\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003epublicPath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e/js/\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cp\u003e\u003cstrong\u003e\u003ca href=\&quot;http://localhost:8080/js/main.js\&quot; class=\&quot;autolink\&quot; rel=\&quot;nofollow noopener\&quot; target=\&quot;_blank\&quot;\u003ehttp://localhost:8080/js/main.js\u003c/a\u003e\u003c/strong\u003e としてブラウザからアクセスできる（※）。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;バンドルはメモリ上にありファイルとしての実態は無い\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%AF%E3%83%A1%E3%83%A2%E3%83%AA%E4%B8%8A%E3%81%AB%E3%81%82%E3%82%8A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E3%81%97%E3%81%A6%E3%81%AE%E5%AE%9F%E6%85%8B%E3%81%AF%E7%84%A1%E3%81%84\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e※バンドルはメモリ上にありファイルとしての実態は無い\u003c/h3\u003e\n\n\u003cp\u003ewebpack-dev-serverで生成された\u003cstrong\u003e\u003cfont color=\&quot;red\&quot;\u003eバンドルはオンメモリで保持される\u003c/font\u003e\u003c/strong\u003e。そのためバンドルが\u003cstrong\u003e\u003cfont color=\&quot;red\&quot;\u003eファイルとして保存されることは無い\u003c/font\u003e\u003c/strong\u003e。（\u003cstrong\u003emain.js\u003c/strong\u003eなどファイルとしての実体はみつからない。）\u003c/p\u003e\n\n\u003cp\u003eまた、webpackでビルドするとwebpack.config.jsの\u003ccode\u003eoutput.path\u003c/code\u003eで指定したディレクトリにバンドルが出力されるが、webpack-dev-serverから同名のファイルにアクセスしようとした場合、デフォルトではメモリ上のバンドルが使われる。\u003c/p\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;2-3-コンテンツベースに置かれたファイルhtmlやcssなどの変更を監視する\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#2-3-%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AB%E7%BD%AE%E3%81%8B%E3%82%8C%E3%81%9F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%ABhtml%E3%82%84css%E3%81%AA%E3%81%A9%E3%81%AE%E5%A4%89%E6%9B%B4%E3%82%92%E7%9B%A3%E8%A6%96%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(2)-3 コンテンツベースに置かれたファイル(htmlやcssなど)の変更を監視する\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--watch-content-base\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003econfigに設定する場合(webpack.config.js)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n   \u003cspan class=\&quot;nl\&quot;\u003ewatchContentBase\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;kc\&quot;\u003etrue\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003eこの設定により、コンテンツベース以下に置かれたファイルに変更があった場合、ブラウザ全体がリロードされる\u003c/li\u003e\n\u003cli\u003ewatchContentBaseが省略された場合は、ファイルに変更があっても自動リロードされない\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;3hmrhot-module-replacementの設定\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#3hmrhot-module-replacement%E3%81%AE%E8%A8%AD%E5%AE%9A\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(3)HMR(Hot Module Replacement)の設定\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;3-1-hmrhot-module-replacementを有効にする\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#3-1-hmrhot-module-replacement%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(3)-1 HMR(Hot Module Replacement)を有効にする\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--hot\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003eHMRモードを有効にする\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;3-2-hmrに失敗した場合には再読込しない設定にする\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#3-2-hmr%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%81%AF%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%81%97%E3%81%AA%E3%81%84%E8%A8%AD%E5%AE%9A%E3%81%AB%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(3)-2 HMRに失敗した場合には再読込しない設定にする\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--hot-only\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003eHMR(Hot Module Replacement)は有効だが、敗した場合には再読込しない\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;3-3-hmrhot-module-replacementを無効にする\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#3-3-hmrhot-module-replacement%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(3)-3 HMR(Hot Module Replacement)を無効にする\u003c/h3\u003e\n\n\u003cul\u003e\n\u003cli\u003eデフォルト（オプション省略時）はHMRは無効\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch1\u003e\n\u003cspan id=\&quot;4ブラウザを自動的に起動する\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#4%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(4)ブラウザを自動的に起動する\u003c/h1\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;4-1-サーバー起動時にブラウザを自動的に起動する\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#4-1-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(4)-1 サーバー起動時にブラウザを自動的に起動する\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--open\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003econfigに設定する場合(webpack.config.js)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n   \u003cspan class=\&quot;nl\&quot;\u003eopen\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;kc\&quot;\u003etrue\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003eサーバー起動時に自動的にブラウザを開く（デフォルトのブラウザが開く)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;4-2-サーバー起動時に指定したページを自動的に起動する\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#4-2-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e(4)-2 サーバー起動時に指定したページを自動的に起動する\u003c/h3\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;shell\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eCLIで実行する場合\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003ewebpack-dev-server \u003cspan class=\&quot;nt\&quot;\u003e--open-page\u003c/span\u003e index2.html\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003econfigに設定する場合(webpack.config.js)\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n   \u003cspan class=\&quot;nl\&quot;\u003eopen\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;kc\&quot;\u003etrue\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\n   \u003cspan class=\&quot;nx\&quot;\u003eopenPage\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003eindex2.html\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cul\u003e\n\u003cli\u003eサーバー起動時に自動的にブラウザを開き指定したページを開く。\u003c/li\u003e\n\u003cli\u003eCLIの場合には　\u003ccode\u003e--open-page\u003c/code\u003eの他に \u003ccode\u003e--open\u003c/code\u003eは指定\u003cstrong\u003e不要\u003c/strong\u003eだが、webpack.config.jsで設定する場合には、\u003ccode\u003eopen:true\u003c/code\u003eを明示的に指定する必要がある。\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;アクセスすると-invalid-host-header-が出る場合\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%A8-invalid-host-header-%E3%81%8C%E5%87%BA%E3%82%8B%E5%A0%B4%E5%90%88\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003eアクセスすると Invalid Host header が出る場合\u003c/h3\u003e\n\n\u003cp\u003evirtual boxなどの仮想化環境や、ngrokなどでローカルホスト外から使った場合 webpack-dev-serverでホストしているページにアクセスすると \u003cstrong\u003eInvalid Host header\u003c/strong\u003eが出る場合がある。\u003c/p\u003e\n\n\u003cp\u003eその場合は以下のようにする。\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003eInvalid　Host　header　対策\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;nx\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n   \u003cspan class=\&quot;nl\&quot;\u003ehost\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e0.0.0.0\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\n   \u003cspan class=\&quot;nx\&quot;\u003edisableHostCheck\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;kc\&quot;\u003etrue\u003c/span\u003e\n\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003ch3\u003e\n\u003cspan id=\&quot;設定例\&quot; class=\&quot;fragment\&quot;\u003e\u003c/span\u003e\u003ca href=\&quot;#%E8%A8%AD%E5%AE%9A%E4%BE%8B\&quot;\u003e\u003ci class=\&quot;fa fa-link\&quot;\u003e\u003c/i\u003e\u003c/a\u003e設定例\u003c/h3\u003e\n\n\u003cp\u003e設定はCLIからもwebpack.config.jsでもできるが、シンプルな設定例(webpack.config.js)\u003c/p\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;json\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003epackage.json\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;name\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;webpack-dev-server-tutorial\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;version\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;1.0.0\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;description\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;main\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;index.js\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;scripts\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n    \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;start\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;webpack-dev-server\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n    \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;build\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;webpack --config webpack.config.js\&quot;\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;author\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;license\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;MIT\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;devDependencies\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n    \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;webpack\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;^4.17.1\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n    \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;webpack-cli\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;^3.1.0\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n    \u003c/span\u003e\u003cspan class=\&quot;nl\&quot;\u003e\&quot;webpack-dev-server\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e \u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e\&quot;^3.1.7\&quot;\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n  \u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\u003cspan class=\&quot;w\&quot;\u003e\n\n\u003c/span\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\&quot;code-frame\&quot; data-lang=\&quot;js\&quot;\u003e\n\u003cdiv class=\&quot;code-lang\&quot;\u003e\u003cspan class=\&quot;bold\&quot;\u003ewebpack.config.js\u003c/span\u003e\u003c/div\u003e\n\u003cdiv class=\&quot;highlight\&quot;\u003e\u003cpre\u003e\n\u003cspan class=\&quot;kd\&quot;\u003econst\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003epath\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003erequire\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003epath\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e);\u003c/span\u003e\n\n\u003cspan class=\&quot;nx\&quot;\u003emodule\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003eexports\u003c/span\u003e \u003cspan class=\&quot;o\&quot;\u003e=\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n    \u003cspan class=\&quot;na\&quot;\u003emode\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003edevelopment\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;c1\&quot;\u003e//webpack4以降はモード指定しなければいけない\u003c/span\u003e\n\n    \u003cspan class=\&quot;na\&quot;\u003eentry\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\u003cspan class=\&quot;na\&quot;\u003eapp\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e./src/index.js\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\u003cspan class=\&quot;c1\&quot;\u003e//エントリーポイント。連想配列にすることでappというキーに対してはindex.jsがentryとセットできる\u003c/span\u003e\n    \u003cspan class=\&quot;na\&quot;\u003eoutput\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003epath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003epath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ejoin\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003e__dirname\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003epublic\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e),\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003epublicPath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003e/js/\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;c1\&quot;\u003e//ブラウザからバンドルにアクセスする際のパス\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003efilename\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003e[name].js\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;c1\&quot;\u003e//バンドルのファイル名。[name]の部分にはentryで指定したキーが入る\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003elibrary\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e[\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003ecom\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003eexample\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e],\u003c/span\u003e \u003cspan class=\&quot;c1\&quot;\u003e//パッケージ名を配列で表現する\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003elibraryTarget\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003eumd\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\n    \u003cspan class=\&quot;p\&quot;\u003e},\u003c/span\u003e\n    \u003cspan class=\&quot;na\&quot;\u003edevtool\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003einline-source-map\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;c1\&quot;\u003e//ブラウザでのデバッグ用にソースマップを出力する\u003c/span\u003e\n\n    \u003cspan class=\&quot;c1\&quot;\u003e//webpack-dev-server用設定\u003c/span\u003e\n    \u003cspan class=\&quot;na\&quot;\u003edevServer\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;p\&quot;\u003e{\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003eopen\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;kc\&quot;\u003etrue\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;c1\&quot;\u003e//ブラウザを自動で開く\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003eopenPage\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;s2\&quot;\u003eindex.html\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e\&quot;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;c1\&quot;\u003e//自動で指定したページを開く\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003econtentBase\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;nx\&quot;\u003epath\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e.\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003ejoin\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e(\u003c/span\u003e\u003cspan class=\&quot;nx\&quot;\u003e__dirname\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;s1\&quot;\u003epublic\u003c/span\u003e\u003cspan class=\&quot;dl\&quot;\u003e&#39;\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e),\u003c/span\u003e\u003cspan class=\&quot;c1\&quot;\u003e// HTML等コンテンツのルートディレクトリ\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003ewatchContentBase\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;kc\&quot;\u003etrue\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e\u003cspan class=\&quot;c1\&quot;\u003e//コンテンツの変更監視をする\u003c/span\u003e\n        \u003cspan class=\&quot;na\&quot;\u003eport\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e:\u003c/span\u003e \u003cspan class=\&quot;mi\&quot;\u003e3000\u003c/span\u003e\u003cspan class=\&quot;p\&quot;\u003e,\u003c/span\u003e \u003cspan class=\&quot;c1\&quot;\u003e// ポート番号\u003c/span\u003e\n\n\n    \u003cspan class=\&quot;p\&quot;\u003e}\u003c/span\u003e\n\n\u003cspan class=\&quot;p\&quot;\u003e};\u003c/span\u003e\n\u003c/pre\u003e\u003c/div\u003e\n\u003c/div\u003e\n&quot;,&quot;commentsCount&quot;:0,&quot;createdAtInUnixtime&quot;:1537094024,&quot;elapsedYearsFromUpdatedAt&quot;:0,&quot;id&quot;:694001,&quot;isBanned&quot;:false,&quot;isDeprecated&quot;:false,&quot;isDestroyable&quot;:false,&quot;isEditRequestSendable&quot;:true,&quot;isLikable&quot;:true,&quot;isLiked&quot;:false,&quot;isPublic&quot;:true,&quot;isSecret&quot;:false,&quot;isSlide&quot;:false,&quot;isStockable&quot;:true,&quot;isStocked&quot;:false,&quot;isUpdatable&quot;:false,&quot;isUpdated&quot;:true,&quot;likeUrl&quot;:&quot;https://qiita.com/api/internal/items/d27f6d3ab7aaa119deab/likes&quot;,&quot;likesCount&quot;:195,&quot;qiitadonShareText&quot;:&quot;webpack4対応webpack-dev-serverの主要な設定オプション(CLI,webpack.config.js)の意味と挙動 by riversun https://qiita.com/riversun/items/d27f6d3ab7aaa119deab #Qiita #JavaScript #Nodejs #webpack #webpackdevserver&quot;,&quot;qiitadonIconUrl&quot;:&quot;https://cdn.qiita.com/assets/public/qiitadon-fa-icon-58373fa5fae3270777c5c30bfa06cf27.svg&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/riversun/items/d27f6d3ab7aaa119deab&quot;,&quot;stockUrl&quot;:&quot;https://qiita.com/riversun/items/d27f6d3ab7aaa119deab/stock&quot;,&quot;title&quot;:&quot;webpack4対応webpack-dev-serverの主要な設定オプション(CLI,webpack.config.js)の意味と挙動&quot;,&quot;toc&quot;:&quot;\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E6%A6%82%E8%A6%81\&quot;\u003e概要\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E7%92%B0%E5%A2%83\&quot;\u003e環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#webpack-dev-server-%E3%81%A8%E3%81%AF\&quot;\u003ewebpack-dev-server とは\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\&quot;\u003eインストール\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%81%84%E3%81%A1%E3%81%B0%E3%82%93%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AA%E8%B5%B7%E5%8B%95\&quot;\u003eいちばんシンプルな起動\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%B5%B7%E5%8B%95%E7%B5%90%E6%9E%9C\&quot;\u003e起動結果\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\&quot;#packagejsoncli%E5%AE%9F%E8%A1%8C%E3%81%AE%E8%A8%AD%E5%AE%9A%E4%BE%8B\&quot;\u003epackage.json(CLI実行)の設定例\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%A8%AD%E5%AE%9A%E3%81%A8%E5%90%84%E7%A8%AE%E6%8C%99%E5%8B%95\&quot;\u003e設定と各種挙動\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%81%AE%E8%87%AA%E5%8B%95%E3%83%AA%E3%83%AD%E3%83%BC%E3%83%89\&quot;\u003eブラウザの自動リロード\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#1%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%81%AE%E8%A8%AD%E5%AE%9A\&quot;\u003e(1)オートリフレッシュ(自動再読込)の設定\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#1-1-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92inline%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\&quot;\u003e(1)-1 オートリフレッシュ(自動再読込)をinlineモードで実行する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#1-2-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92iframe%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\&quot;\u003e(1)-2 オートリフレッシュ(自動再読込)をiframeモードで実行する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#1-3-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\&quot;\u003e(1)-3 オートリフレッシュ(自動再読込)を無効にする。\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\&quot;#2%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84html%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AA%E3%81%A9%E3%81%A8%E8%87%AA%E5%8B%95%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF\&quot;\u003e(2)リソース・コンテンツ(htmlファイルなど)と自動読み込み\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#2-1-%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%99%E3%83%BC%E3%82%B9%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%88%E3%81%A8%E3%81%AA%E3%82%8B%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E6%8C%87%E5%AE%9A\&quot;\u003e(2)-1 コンテンツベース(公開するリソースのルートとなるディレクトリ)の指定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#2-2-%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AEpublicpath%E3%81%AE%E6%8C%87%E5%AE%9A\&quot;\u003e(2)-2 バンドルにアクセスするためのpublicPathの指定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%AF%E3%83%A1%E3%83%A2%E3%83%AA%E4%B8%8A%E3%81%AB%E3%81%82%E3%82%8A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E3%81%97%E3%81%A6%E3%81%AE%E5%AE%9F%E6%85%8B%E3%81%AF%E7%84%A1%E3%81%84\&quot;\u003e※バンドルはメモリ上にありファイルとしての実態は無い\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#2-3-%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AB%E7%BD%AE%E3%81%8B%E3%82%8C%E3%81%9F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%ABhtml%E3%82%84css%E3%81%AA%E3%81%A9%E3%81%AE%E5%A4%89%E6%9B%B4%E3%82%92%E7%9B%A3%E8%A6%96%E3%81%99%E3%82%8B\&quot;\u003e(2)-3 コンテンツベースに置かれたファイル(htmlやcssなど)の変更を監視する\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\&quot;#3hmrhot-module-replacement%E3%81%AE%E8%A8%AD%E5%AE%9A\&quot;\u003e(3)HMR(Hot Module Replacement)の設定\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#3-1-hmrhot-module-replacement%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\&quot;\u003e(3)-1 HMR(Hot Module Replacement)を有効にする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#3-2-hmr%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%81%AF%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%81%97%E3%81%AA%E3%81%84%E8%A8%AD%E5%AE%9A%E3%81%AB%E3%81%99%E3%82%8B\&quot;\u003e(3)-2 HMRに失敗した場合には再読込しない設定にする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#3-3-hmrhot-module-replacement%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\&quot;\u003e(3)-3 HMR(Hot Module Replacement)を無効にする\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\&quot;#4%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\&quot;\u003e(4)ブラウザを自動的に起動する\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#4-1-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\&quot;\u003e(4)-1 サーバー起動時にブラウザを自動的に起動する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#4-2-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\&quot;\u003e(4)-2 サーバー起動時に指定したページを自動的に起動する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%A8-invalid-host-header-%E3%81%8C%E5%87%BA%E3%82%8B%E5%A0%B4%E5%90%88\&quot;\u003eアクセスすると Invalid Host header が出る場合\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\&quot;#%E8%A8%AD%E5%AE%9A%E4%BE%8B\&quot;\u003e設定例\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\n&quot;,&quot;totalPv&quot;:26680,&quot;unstockUrl&quot;:&quot;https://qiita.com/riversun/items/d27f6d3ab7aaa119deab/unstock&quot;,&quot;updatedAtInUnixtime&quot;:1548149509,&quot;uuid&quot;:&quot;d27f6d3ab7aaa119deab&quot;,&quot;author&quot;:{&quot;contribution&quot;:3508,&quot;description&quot;:&quot;UX producer and Full-Stack developer with more than 15 years of experience.&quot;,&quot;followUrl&quot;:&quot;https://qiita.com/riversun/follow&quot;,&quot;isFollowed&quot;:false,&quot;name&quot;:&quot;&quot;,&quot;profileImageUrl&quot;:&quot;https://qiita-image-store.s3.amazonaws.com/0/170905/profile-images/1542519361&quot;,&quot;publicArticlesCount&quot;:69,&quot;showUrl&quot;:&quot;https://qiita.com/riversun&quot;,&quot;unfollowUrl&quot;:&quot;https://qiita.com/riversun/unfollow&quot;,&quot;urlName&quot;:&quot;riversun&quot;,&quot;organizationUrlNames&quot;:[]},&quot;viewer&quot;:{&quot;contribution&quot;:1,&quot;tagNames&quot;:[&quot;Python&quot;,&quot;HTML5&quot;,&quot;HTML&quot;,&quot;Java&quot;,&quot;Node.js&quot;],&quot;followersCount&quot;:1,&quot;articlesCount&quot;:1,&quot;organizationUrlNames&quot;:[],&quot;isGitHubLoginEnabled&quot;:false,&quot;postingArticleTagNames&quot;:[&quot;Android&quot;,&quot;Build&quot;,&quot;Cordova&quot;,&quot;gradle&quot;,&quot;JDK&quot;],&quot;numberOfDaysSinceRegistration&quot;:189},&quot;tags&quot;:[{&quot;isFollowed&quot;:false,&quot;largeIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/cafc148eac97675ba077fb5a70ad741d0c9b532c/large.jpg?1554725663&quot;,&quot;mediumIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/7e67c6a2d1e2fc39283fe28cfd5f065b93bbb15a/medium.jpg?1554725663&quot;,&quot;name&quot;:&quot;JavaScript&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/tags/riversun&quot;,&quot;thumbIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/c2d98c829fa3b9f6ca06ff21777b93c276aa6887/thumb.jpg?1554725663&quot;,&quot;urlName&quot;:&quot;javascript&quot;},{&quot;isFollowed&quot;:false,&quot;largeIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/998987f6adeae72e10fcf9b4f441012892c666a8/large.jpg?1482848645&quot;,&quot;mediumIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/685ad19e898bd7f40f85ee39aa02734256cc2f39/medium.jpg?1482848645&quot;,&quot;name&quot;:&quot;Node.js&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/tags/riversun&quot;,&quot;thumbIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/e8566d0c32f3ec9e863d3719a7e8cd44a53b5ceb/thumb.jpg?1482848645&quot;,&quot;urlName&quot;:&quot;node.js&quot;},{&quot;isFollowed&quot;:false,&quot;largeIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/32398dc1a7d29a0ad7c457e4ab215a2985fbeff6/large.jpg?1564381920&quot;,&quot;mediumIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/79bbdb3fade5a792846b4793884dfb2e1896e792/medium.jpg?1564381920&quot;,&quot;name&quot;:&quot;webpack&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/tags/riversun&quot;,&quot;thumbIconUrl&quot;:&quot;https://s3-ap-northeast-1.amazonaws.com/qiita-tag-image/38ba7008b046a2d859adddf31ae6874b9598a0f2/thumb.jpg?1564381920&quot;,&quot;urlName&quot;:&quot;webpack&quot;},{&quot;isFollowed&quot;:false,&quot;largeIconUrl&quot;:&quot;//cdn.qiita.com/assets/icons/medium/missing-2e17009a0b32a6423572b0e6dc56727e.png&quot;,&quot;mediumIconUrl&quot;:&quot;//cdn.qiita.com/assets/icons/medium/missing-2e17009a0b32a6423572b0e6dc56727e.png&quot;,&quot;name&quot;:&quot;webpack-dev-server&quot;,&quot;showUrl&quot;:&quot;https://qiita.com/tags/riversun&quot;,&quot;thumbIconUrl&quot;:&quot;//cdn.qiita.com/assets/icons/medium/missing-2e17009a0b32a6423572b0e6dc56727e.png&quot;,&quot;urlName&quot;:&quot;webpack-dev-server&quot;}]}" data-following-likers-props="[]"><div class="it-Header"><div class="u-flex-center-between mb-3"><div class="it-Header_info"><div class="it-Header_author"><a href="/riversun"><img class="it-Header_authorImage" src="https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F170905%2Fprofile-images%2F1542519361?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;lossless=0&amp;w=48&amp;s=d865bee3e7f0c7d057e30d94e5b1b8bd" /></a> <a class="it-Header_authorName" href="/riversun">@riversun</a> </div><div class="it-Header_time"><meta content="2018-09-16T19:33:44+09:00" itemprop="datePublished" /><span data-toggle="tooltip" title="2018年09月16日に投稿"><time datetime="2019-01-22T18:31:49+09:00" itemprop="dateModified">2019年01月22日</time>に更新</span></div><div class="it-Header_meta"><div class="it-Header_manipulate"><div class="it-Header_dropdown"><a class="it-Header_dropdownToggle" data-toggle="dropdown" href="#"><span class="fa fa-ellipsis-h fa-lg"></span></a><ul class="dropdown-menu dropdown-menu-right"><div class="it-Header_dropdown-title">記事の改善</div><li class="dropdown__item"><a href="/drafts/d27f6d3ab7aaa119deab/edit"><span class="fa fa-fw fa-code-fork"></span> 編集リクエストを送る</a></li><li class="divider" role="separator"></li><div class="it-Header_dropdown-title">記事の情報</div><li class="dropdown__item"><a href="/riversun/items/d27f6d3ab7aaa119deab/revisions"><span class="fa fa-fw fa-history"></span> 編集履歴</a></li><li class="dropdown__item"><a href="/riversun/items/d27f6d3ab7aaa119deab/patches"><span class="fa fa-fw fa-inbox"></span> 編集リクエスト一覧</a></li><li class="dropdown__item"><a href="/riversun/items/d27f6d3ab7aaa119deab/likers"><span class="fa fa-fw fa-thumbs-up"></span> いいねしたユーザー一覧</a></li><li class="dropdown__item"><a href="/riversun/items/d27f6d3ab7aaa119deab.md"><span class="fa fa-fw fa-file-text-o"></span> Markdownで本文を見る</a></li><li class="divider" role="separator"></li><li class="dropdown__item"><a rel="nofollow" data-method="post" href="/d27f6d3ab7aaa119deab/items/d27f6d3ab7aaa119deab/subscribe"><span class="fa fa-fw fa-volume-up"></span>記事を購読する</a></li><li class="dropdown__item"><a data-target=".js-report-form" data-toggle="modal" href="#"><span class="fa fa-fw fa-flag"></span> 問題がある記事を報告する</a></li></ul></div></div></div></div></div><h1 class="it-Header_title" itemprop="headline">webpack4対応webpack-dev-serverの主要な設定オプション(CLI,webpack.config.js)の意味と挙動</h1><div class="it-Tags"><a class="it-Tags_item" href="/tags/javascript"><span>JavaScript</span></a><a class="it-Tags_item" href="/tags/node.js"><span>Node.js</span></a><a class="it-Tags_item" href="/tags/webpack"><span>webpack</span></a><a class="it-Tags_item" href="/tags/webpack-dev-server"><span>webpack-dev-server</span></a></div></div><div data-mount-target="mobileArticleActions"></div><section class="it-MdContent" itemprop="articleBody"><div id="item-d27f6d3ab7aaa119deab">
<h1>
<span id="概要" class="fragment"></span><a href="#%E6%A6%82%E8%A6%81"><i class="fa fa-link"></i></a>概要</h1>

<p>Webpack 4を利用した開発に便利な webpack-dev-server の設定メモです。<br>
<strong>webpack-dev-server</strong>の<a href="https://github.com/webpack/webpack-dev-server" rel="nofollow noopener" target="_blank">ソースコード</a>と<a href="https://github.com/webpack/docs/wiki/webpack-dev-server" rel="nofollow noopener" target="_blank">公式wiki</a>、<a href="https://webpack.js.org/configuration/dev-server/" rel="nofollow noopener" target="_blank">公式Doc</a>を参考に実動確認した結果を書きます。</p>

<p>HMR等オートリロード系の設定(<code>--hot</code>とかとか<code>--inline</code>とか)やよく使いそうなCLIオプションなど理解しておくためのメモです。</p>

<h1>
<span id="環境" class="fragment"></span><a href="#%E7%92%B0%E5%A2%83"><i class="fa fa-link"></i></a>環境</h1>

<p>本投稿で使っている環境は以下の通り。</p>

<ul>
<li>webpack-dev-server:3.1.7</li>
<li>webpack:4.17.1</li>
<li>webpack-cli:3.1.0</li>
</ul>

<h1>
<span id="webpack-dev-server-とは" class="fragment"></span><a href="#webpack-dev-server-%E3%81%A8%E3%81%AF"><i class="fa fa-link"></i></a>webpack-dev-server とは</h1>

<p><a href="https://github.com/webpack/webpack-dev-server" rel="nofollow noopener" target="_blank">webpack-dev-server</a>は<a href="https://webpack.js.org/" rel="nofollow noopener" target="_blank">webpack</a>を用いたフロントエンド開発のときに利用できる開発用のwebサーバー。<br>
<strong>*.js</strong>ファイルやリソースファイルを<strong>更新すると即座に反映してくれる</strong>機能をもっている。</p>

<p><strong>webpack-dev-server</strong>の後継が<a href="https://github.com/webpack-contrib/webpack-serve" rel="nofollow noopener" target="_blank">webpack-serve</a>になって<strong>webpack-dev-server</strong>はメンテナンスモードに入るという話もあったが方針が変わり、今後も<strong>webpack-dev-server</strong>は<a href="https://qiita.com/riversun/items/52e2d8d95812c209502c" id="reference-ddc5be92d3ebcc236cd3">開発継続される模様</a>。</p>

<h1>
<span id="インストール" class="fragment"></span><a href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB"><i class="fa fa-link"></i></a>インストール</h1>

<p>通常、グローバルではなくローカルインストールする</p>

<div class="code-frame" data-lang="shell"><div class="highlight"><pre>npm <span class="nb">install </span>webpack-dev-server <span class="nt">--save-dev</span>
</pre></div></div>

<h1>
<span id="いちばんシンプルな起動" class="fragment"></span><a href="#%E3%81%84%E3%81%A1%E3%81%B0%E3%82%93%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AA%E8%B5%B7%E5%8B%95"><i class="fa fa-link"></i></a>いちばんシンプルな起動</h1>

<p>以下のように、特別な設定などを行っていないまっさらな状態で起動して<strong>webpack-dev-server</strong>のデフォルトの挙動を確認する。</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">何も設定していない状態のディレクトリ</span></div>
<div class="highlight"><pre><span class="o">[</span>project_dir]
 |-package.json
 |-src
 |  |-index.js
</pre></div>
</div>

<p><strong>package.json</strong>のscriptsに以下のように記述して <code>npm start</code> で起動</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">package</span></div>
<div class="highlight"><pre><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack-dev-server"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></div>
</div>

<h3>
<span id="起動結果" class="fragment"></span><a href="#%E8%B5%B7%E5%8B%95%E7%B5%90%E6%9E%9C"><i class="fa fa-link"></i></a>起動結果</h3>

<p>以下のようになる</p>

<ul>
<li>エントリポイントは <strong>./src/index.js</strong>
</li>
<li>コンテンツのルート(content-base)はプロジェクトのワークディレクトリの直下 <strong>/</strong> </li>
<li>ホストは <strong><a href="http://localhost:8080" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:8080</a></strong>
</li>
<li>バンドルは <strong><a href="http://localhost:8080/main.js" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:8080/main.js</a></strong> </li>
</ul>

<p>一応起動はできるが、このままだとほぼ使えないので各種設定を行う。</p>

<h1>
<span id="packagejsoncli実行の設定例" class="fragment"></span><a href="#packagejsoncli%E5%AE%9F%E8%A1%8C%E3%81%AE%E8%A8%AD%E5%AE%9A%E4%BE%8B"><i class="fa fa-link"></i></a>package.json(CLI実行)の設定例</h1>

<p>以下のようにwebpack-dev-serverを起動オプションつきで起動することで様々な設定をすることができる</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">package.json　(CLIで実行する場合)</span></div>
<div class="highlight"><pre>  <span class="s2">"scripts"</span>: <span class="o">{</span>
    <span class="s2">"start"</span>: <span class="s2">"webpack-dev-server --hot --inline --watch-content-base --content-base public/ --open-page index.html "</span>,
   .......
  <span class="o">}</span>,
</pre></div>
</div>

<p>詳しい設定内容は後述するが、各オプションの意味は以下のとおり</p>

<ul>
<li>
<code>--hot</code>でHMR(Hot Module Replacement)を有効にする</li>
<li>
<code>--inline</code>でjsコードが変更されたら（コンパイルして）自動的にブラウザをリロードする。ブラウザ自動リロードのための仕組みがinlineモードで実行される。</li>
<li>
<code>--content-base public/</code>でhtmlやcssなどを置いておくコンテンツベースとなるディレクトリを<strong>[作業ディレクトリ]/public/</strong>に指定する</li>
<li>
<code>--watch-content-base</code>で、htmlやcssなどファイルが変更されたらブラウザを自動的にリロードする</li>
<li>
<code>--open-page index.html</code>で、サーバー起動後、自動的に（デフォルトの）ブラウザを開き、指定されたページここでは<strong>index.html</strong>を開く</li>
<li>
<code>npm start</code>でwebpack-dev-serverを起動する</li>
</ul>

<h1>
<span id="設定と各種挙動" class="fragment"></span><a href="#%E8%A8%AD%E5%AE%9A%E3%81%A8%E5%90%84%E7%A8%AE%E6%8C%99%E5%8B%95"><i class="fa fa-link"></i></a>設定と各種挙動</h1>

<p>通常の開発では<strong>webpack-dev-server</strong>に各種起動オプションを指定して挙動を制御するが、何をどう設定すると、どう動くのか、デフォルト（省略時）はどうなのかという点を意識して代表的な設定をまとめる。</p>

<h2>
<span id="ブラウザの自動リロード" class="fragment"></span><a href="#%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%81%AE%E8%87%AA%E5%8B%95%E3%83%AA%E3%83%AD%E3%83%BC%E3%83%89"><i class="fa fa-link"></i></a>ブラウザの自動リロード</h2>

<p>webpack-dev-serverの大きな特長の１つはオートリフレッシュ(自動更新)機能である。<br>
コードやリソースに変更があったら自動的に読み直してくれる。</p>

<p>混同しがちなのはオートリフレッシュ機能とHMR(Hot Module Replacement)機能。</p>

<p>webpack-dev-serverはデフォルトだとオートリフレッシュ機能により、コードに変更があった場合、自動的にブラウザ全体をリロードしてくれる。ブラウザ全体をリロードするのでフォームに入力していた値などはクリアされてしまう。</p>

<p>そこで、ブラウザ全体をリロードするのではなく、変更したモジュール（jsコード）だけを置き換えてくれるのがのが<strong>HMR</strong>(Hot Module Replacement)という機能だが、この機能を使うためにはこのサーバー側の設定だけではなく、アプリ側もHMRのお作法で設計する必要がある。（reactなど有名フレームワークはこの機能に対応しているものがある）</p>

<h1>
<span id="1オートリフレッシュ自動再読込の設定" class="fragment"></span><a href="#1%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>(1)オートリフレッシュ(自動再読込)の設定</h1>

<h3>
<span id="1-1-オートリフレッシュ自動再読込をinlineモードで実行する" class="fragment"></span><a href="#1-1-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92inline%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(1)-1 オートリフレッシュ(自動再読込)をinlineモードで実行する</h3>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--inline</span>
</pre></div>
</div>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">configに設定する場合(webpack.config.js)</span></div>
<div class="highlight"><pre><span class="nx">devServer</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">inline</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>

<ul>
<li>
<strong>--inline</strong>は<strong>省略可能</strong>。省略してもデフォルトで<strong>inline</strong>モードになる</li>
<li>この設定では、オートリフレッシュを実現するためのコードがバンドル(最終jsコード)の中にwebpack-dev-serverによって自動的に追加される。つまりdist/main.jsとしてアクセスできるバンドル内にオートリフレッシュのためのコードが組み込まれた状態になる。</li>
<li>次の項(1)-2で説明する iframe　モードで使いたい場合は、inlineモードでもURLに <strong>/webpack-dev-server</strong> をつけてアクセスする（例 <a href="http://localhost:8080/webpack-dev-server/" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:8080/webpack-dev-server/</a> ）ことでiframeモードでアクセスできる</li>
</ul>

<h3>
<span id="1-2-オートリフレッシュ自動再読込をiframeモードで実行する" class="fragment"></span><a href="#1-2-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92iframe%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(1)-2 オートリフレッシュ(自動再読込)をiframeモードで実行する</h3>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--no-inline</span>
</pre></div>
</div>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">configに設定する場合(webpack.config.js)</span></div>
<div class="highlight"><pre><span class="nx">devServer</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">inline</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>

<p>iframeの中でアプリを動作させるモード。<br>
実行すると画面上部には実行ステータスが表示される。</p>

<h3>
<span id="1-3-オートリフレッシュ自動再読込を無効にする" class="fragment"></span><a href="#1-3-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(1)-3 オートリフレッシュ(自動再読込)を無効にする。</h3>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--lazy</span>
</pre></div>
</div>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">configに設定する場合(webpack.config.js)</span></div>
<div class="highlight"><pre><span class="nx">devServer</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">lazy</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>

<ul>
<li>オートリフレッシュが無効の場合、手動でブラウザのリロードすればリコンパイルされる。
watchOptionsも無効になる　</li>
<li>
<code>--hot</code>オプションとは併用できない</li>
</ul>

<h1>
<span id="2リソースコンテンツhtmlファイルなどと自動読み込み" class="fragment"></span><a href="#2%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84html%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AA%E3%81%A9%E3%81%A8%E8%87%AA%E5%8B%95%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF"><i class="fa fa-link"></i></a>(2)リソース・コンテンツ(htmlファイルなど)と自動読み込み</h1>

<p>webpack-dev-serverはwebサーバーでもあるので当然ながらhtmlやcssもホストすることができる。<br>
公開するディレクトリをコンテンツベース(content base)という。</p>

<p>また、jsコードだけでなくhtmlなどリソースファイルを監視(watch)し、それらが変更された場合に、自動的にリロードされるように設定できる。</p>

<h3>
<span id="2-1-コンテンツベース公開するリソースのルートとなるディレクトリの指定" class="fragment"></span><a href="#2-1-%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%99%E3%83%BC%E3%82%B9%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%88%E3%81%A8%E3%81%AA%E3%82%8B%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E6%8C%87%E5%AE%9A"><i class="fa fa-link"></i></a>(2)-1 コンテンツベース(公開するリソースのルートとなるディレクトリ)の指定</h3>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>[作業dir]
|― src
|― public
</pre></div></div>

<p>となっているときに<strong>/public</strong>というディレクトリを公開する場合</p>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--content-base</span> public/
</pre></div>
</div>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">configに設定する場合(webpack.config.js)</span></div>
<div class="highlight"><pre><span class="nx">devServer</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">contentBase</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">public</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>

<h3>
<span id="2-2-バンドルにアクセスするためのpublicpathの指定" class="fragment"></span><a href="#2-2-%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AEpublicpath%E3%81%AE%E6%8C%87%E5%AE%9A"><i class="fa fa-link"></i></a>(2)-2 バンドルにアクセスするためのpublicPathの指定</h3>

<p>webpack-dev-serverによってビルドされたバンドル(js)は、このpublicPathで指定したパスでアクセスできる。</p>

<p>以下のようなフォルダ構成のときバンドル</p>

<div class="code-frame" data-lang="text"><div class="highlight"><pre>[作業dir]
|― src
    |― index.js
    |― foo.js
    |― bar.js
|― public
    |― index.html
</pre></div></div>

<p>src以下にあるソースjsファイルを結合した（コンパイル、マージなどなど）バンドルは<strong>デフォルト</strong>では<br>
<strong><a href="http://localhost:8080/main.js" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:8080/main.js</a></strong> としてブラウザからアクセスできる。</p>

<p>例えば、webpack.config.jsのpublicPathを以下のように <strong>"/js/"</strong>と指定すると</p>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">webpack.config.js</span></div>
<div class="highlight"><pre><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1">//...</span>
    <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
        <span class="c1">//...</span>
        <span class="na">publicPath</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/js/</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">}</span>
</pre></div>
</div>

<p><strong><a href="http://localhost:8080/js/main.js" class="autolink" rel="nofollow noopener" target="_blank">http://localhost:8080/js/main.js</a></strong> としてブラウザからアクセスできる（※）。</p>

<h3>
<span id="バンドルはメモリ上にありファイルとしての実態は無い" class="fragment"></span><a href="#%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%AF%E3%83%A1%E3%83%A2%E3%83%AA%E4%B8%8A%E3%81%AB%E3%81%82%E3%82%8A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E3%81%97%E3%81%A6%E3%81%AE%E5%AE%9F%E6%85%8B%E3%81%AF%E7%84%A1%E3%81%84"><i class="fa fa-link"></i></a>※バンドルはメモリ上にありファイルとしての実態は無い</h3>

<p>webpack-dev-serverで生成された<strong><font color="red">バンドルはオンメモリで保持される</font></strong>。そのためバンドルが<strong><font color="red">ファイルとして保存されることは無い</font></strong>。（<strong>main.js</strong>などファイルとしての実体はみつからない。）</p>

<p>また、webpackでビルドするとwebpack.config.jsの<code>output.path</code>で指定したディレクトリにバンドルが出力されるが、webpack-dev-serverから同名のファイルにアクセスしようとした場合、デフォルトではメモリ上のバンドルが使われる。</p>

<h3>
<span id="2-3-コンテンツベースに置かれたファイルhtmlやcssなどの変更を監視する" class="fragment"></span><a href="#2-3-%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AB%E7%BD%AE%E3%81%8B%E3%82%8C%E3%81%9F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%ABhtml%E3%82%84css%E3%81%AA%E3%81%A9%E3%81%AE%E5%A4%89%E6%9B%B4%E3%82%92%E7%9B%A3%E8%A6%96%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(2)-3 コンテンツベースに置かれたファイル(htmlやcssなど)の変更を監視する</h3>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--watch-content-base</span>
</pre></div>
</div>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">configに設定する場合(webpack.config.js)</span></div>
<div class="highlight"><pre><span class="nx">devServer</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">watchContentBase</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>

<ul>
<li>この設定により、コンテンツベース以下に置かれたファイルに変更があった場合、ブラウザ全体がリロードされる</li>
<li>watchContentBaseが省略された場合は、ファイルに変更があっても自動リロードされない</li>
</ul>

<h1>
<span id="3hmrhot-module-replacementの設定" class="fragment"></span><a href="#3hmrhot-module-replacement%E3%81%AE%E8%A8%AD%E5%AE%9A"><i class="fa fa-link"></i></a>(3)HMR(Hot Module Replacement)の設定</h1>

<h3>
<span id="3-1-hmrhot-module-replacementを有効にする" class="fragment"></span><a href="#3-1-hmrhot-module-replacement%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(3)-1 HMR(Hot Module Replacement)を有効にする</h3>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--hot</span>
</pre></div>
</div>

<ul>
<li>HMRモードを有効にする</li>
</ul>

<h3>
<span id="3-2-hmrに失敗した場合には再読込しない設定にする" class="fragment"></span><a href="#3-2-hmr%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%81%AF%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%81%97%E3%81%AA%E3%81%84%E8%A8%AD%E5%AE%9A%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(3)-2 HMRに失敗した場合には再読込しない設定にする</h3>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--hot-only</span>
</pre></div>
</div>

<ul>
<li>HMR(Hot Module Replacement)は有効だが、敗した場合には再読込しない</li>
</ul>

<h3>
<span id="3-3-hmrhot-module-replacementを無効にする" class="fragment"></span><a href="#3-3-hmrhot-module-replacement%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(3)-3 HMR(Hot Module Replacement)を無効にする</h3>

<ul>
<li>デフォルト（オプション省略時）はHMRは無効</li>
</ul>

<h1>
<span id="4ブラウザを自動的に起動する" class="fragment"></span><a href="#4%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(4)ブラウザを自動的に起動する</h1>

<h3>
<span id="4-1-サーバー起動時にブラウザを自動的に起動する" class="fragment"></span><a href="#4-1-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(4)-1 サーバー起動時にブラウザを自動的に起動する</h3>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--open</span>
</pre></div>
</div>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">configに設定する場合(webpack.config.js)</span></div>
<div class="highlight"><pre><span class="nx">devServer</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">open</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>

<ul>
<li>サーバー起動時に自動的にブラウザを開く（デフォルトのブラウザが開く)</li>
</ul>

<h3>
<span id="4-2-サーバー起動時に指定したページを自動的に起動する" class="fragment"></span><a href="#4-2-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B"><i class="fa fa-link"></i></a>(4)-2 サーバー起動時に指定したページを自動的に起動する</h3>

<div class="code-frame" data-lang="shell">
<div class="code-lang"><span class="bold">CLIで実行する場合</span></div>
<div class="highlight"><pre>webpack-dev-server <span class="nt">--open-page</span> index2.html
</pre></div>
</div>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">configに設定する場合(webpack.config.js)</span></div>
<div class="highlight"><pre><span class="nx">devServer</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">open</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
   <span class="nx">openPage</span><span class="p">:</span><span class="dl">"</span><span class="s2">index2.html</span><span class="dl">"</span>
<span class="p">}</span>
</pre></div>
</div>

<ul>
<li>サーバー起動時に自動的にブラウザを開き指定したページを開く。</li>
<li>CLIの場合には　<code>--open-page</code>の他に <code>--open</code>は指定<strong>不要</strong>だが、webpack.config.jsで設定する場合には、<code>open:true</code>を明示的に指定する必要がある。</li>
</ul>

<h3>
<span id="アクセスすると-invalid-host-header-が出る場合" class="fragment"></span><a href="#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%A8-invalid-host-header-%E3%81%8C%E5%87%BA%E3%82%8B%E5%A0%B4%E5%90%88"><i class="fa fa-link"></i></a>アクセスすると Invalid Host header が出る場合</h3>

<p>virtual boxなどの仮想化環境や、ngrokなどでローカルホスト外から使った場合 webpack-dev-serverでホストしているページにアクセスすると <strong>Invalid Host header</strong>が出る場合がある。</p>

<p>その場合は以下のようにする。</p>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">Invalid　Host　header　対策</span></div>
<div class="highlight"><pre><span class="nx">devServer</span><span class="p">:</span> <span class="p">{</span>
   <span class="nl">host</span><span class="p">:</span> <span class="dl">'</span><span class="s1">0.0.0.0</span><span class="dl">'</span><span class="p">,</span>
   <span class="nx">disableHostCheck</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>

<h3>
<span id="設定例" class="fragment"></span><a href="#%E8%A8%AD%E5%AE%9A%E4%BE%8B"><i class="fa fa-link"></i></a>設定例</h3>

<p>設定はCLIからもwebpack.config.jsでもできるが、シンプルな設定例(webpack.config.js)</p>

<div class="code-frame" data-lang="json">
<div class="code-lang"><span class="bold">package.json</span></div>
<div class="highlight"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack-dev-server-tutorial"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index.js"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack-dev-server"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"webpack --config webpack.config.js"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"devDependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"webpack"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^4.17.1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"webpack-cli"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^3.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"webpack-dev-server"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^3.1.7"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></pre></div>
</div>

<div class="code-frame" data-lang="js">
<div class="code-lang"><span class="bold">webpack.config.js</span></div>
<div class="highlight"><pre>
<span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">path</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">mode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">development</span><span class="dl">'</span><span class="p">,</span><span class="c1">//webpack4以降はモード指定しなければいけない</span>

    <span class="na">entry</span><span class="p">:</span> <span class="p">{</span><span class="na">app</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/index.js</span><span class="dl">'</span><span class="p">},</span><span class="c1">//エントリーポイント。連想配列にすることでappというキーに対してはindex.jsがentryとセットできる</span>
    <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">"</span><span class="s2">public</span><span class="dl">"</span><span class="p">),</span>
        <span class="na">publicPath</span><span class="p">:</span> <span class="dl">"</span><span class="s2">/js/</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//ブラウザからバンドルにアクセスする際のパス</span>
        <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">[name].js</span><span class="dl">'</span><span class="p">,</span> <span class="c1">//バンドルのファイル名。[name]の部分にはentryで指定したキーが入る</span>
        <span class="na">library</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">com</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">example</span><span class="dl">"</span><span class="p">],</span> <span class="c1">//パッケージ名を配列で表現する</span>
        <span class="na">libraryTarget</span><span class="p">:</span> <span class="dl">'</span><span class="s1">umd</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="na">devtool</span><span class="p">:</span> <span class="dl">'</span><span class="s1">inline-source-map</span><span class="dl">'</span><span class="p">,</span><span class="c1">//ブラウザでのデバッグ用にソースマップを出力する</span>

    <span class="c1">//webpack-dev-server用設定</span>
    <span class="na">devServer</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">open</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span><span class="c1">//ブラウザを自動で開く</span>
        <span class="na">openPage</span><span class="p">:</span> <span class="dl">"</span><span class="s2">index.html</span><span class="dl">"</span><span class="p">,</span><span class="c1">//自動で指定したページを開く</span>
        <span class="na">contentBase</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">public</span><span class="dl">'</span><span class="p">),</span><span class="c1">// HTML等コンテンツのルートディレクトリ</span>
        <span class="na">watchContentBase</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span><span class="c1">//コンテンツの変更監視をする</span>
        <span class="na">port</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span> <span class="c1">// ポート番号</span>


    <span class="p">}</span>

<span class="p">};</span>
</pre></div>
</div>
</div></section><div data-mount-target="articleFooterMenu"></div><div class="ai-Container" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><div class="ai-User"><a href="/riversun"><img class="ai-User_image" itemprop="image" src="https://qiita-user-profile-images.imgix.net/https%3A%2F%2Fqiita-image-store.s3.amazonaws.com%2F0%2F170905%2Fprofile-images%2F1542519361?ixlib=rb-1.2.2&amp;auto=compress%2Cformat&amp;lossless=0&amp;w=75&amp;s=9402d24fccf9a7fa3d9c032e7c1a8051" /></a><div class="ai-User_body"><div class="ai-User_header"><a class="ai-User_urlname" itemprop="name" href="/riversun">@riversun</a></div><div class="ai-User_description">UX producer and Full-Stack developer with more than 15 years of experience.</div><a class="ai-User_website" href="https://github.com/riversun">https://github.com/riversun</a><div class="ai-User_footer"><script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"ja","i18nDefaultLocale":"en","href":"https://qiita.com/riversun/items/d27f6d3ab7aaa119deab","location":"/riversun/items/d27f6d3ab7aaa119deab","scheme":"https","host":"qiita.com","port":null,"pathname":"/riversun/items/d27f6d3ab7aaa119deab","search":null,"httpAcceptLanguage":"ja,en-US;q=0.9,en;q=0.8","serverSide":false}</script>
<div id="UserFollowButton-react-component-9ea6a2f1-cbd0-4d19-8f9d-9fb4a0c09492"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="UserFollowButton" data-dom-id="UserFollowButton-react-component-9ea6a2f1-cbd0-4d19-8f9d-9fb4a0c09492">{"initial_followed_by":false,"position":"ArticleAuthorInfo","size":"btn-xs","url_name":"riversun"}</script>
      
</div></div></div></div></div></div><div class="p-items_options"></div><div class="p-items_toc"><div id="Toc-react-component-891ddbc6-bdfd-4992-a754-44a9132aca83"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Toc" data-dom-id="Toc-react-component-891ddbc6-bdfd-4992-a754-44a9132aca83">{"body":"\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E6%A6%82%E8%A6%81\"\u003e概要\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E7%92%B0%E5%A2%83\"\u003e環境\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#webpack-dev-server-%E3%81%A8%E3%81%AF\"\u003ewebpack-dev-server とは\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"\u003eインストール\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%81%84%E3%81%A1%E3%81%B0%E3%82%93%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AA%E8%B5%B7%E5%8B%95\"\u003eいちばんシンプルな起動\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%B5%B7%E5%8B%95%E7%B5%90%E6%9E%9C\"\u003e起動結果\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cli\u003e\n\u003ca href=\"#packagejsoncli%E5%AE%9F%E8%A1%8C%E3%81%AE%E8%A8%AD%E5%AE%9A%E4%BE%8B\"\u003epackage.json(CLI実行)の設定例\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%AD%E5%AE%9A%E3%81%A8%E5%90%84%E7%A8%AE%E6%8C%99%E5%8B%95\"\u003e設定と各種挙動\u003c/a\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%81%AE%E8%87%AA%E5%8B%95%E3%83%AA%E3%83%AD%E3%83%BC%E3%83%89\"\u003eブラウザの自動リロード\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#1%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e(1)オートリフレッシュ(自動再読込)の設定\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#1-1-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92inline%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\"\u003e(1)-1 オートリフレッシュ(自動再読込)をinlineモードで実行する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#1-2-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92iframe%E3%83%A2%E3%83%BC%E3%83%89%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%99%E3%82%8B\"\u003e(1)-2 オートリフレッシュ(自動再読込)をiframeモードで実行する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#1-3-%E3%82%AA%E3%83%BC%E3%83%88%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E8%87%AA%E5%8B%95%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\"\u003e(1)-3 オートリフレッシュ(自動再読込)を無効にする。\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#2%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84html%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AA%E3%81%A9%E3%81%A8%E8%87%AA%E5%8B%95%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF\"\u003e(2)リソース・コンテンツ(htmlファイルなど)と自動読み込み\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#2-1-%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%99%E3%83%BC%E3%82%B9%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B%E3%83%AA%E3%82%BD%E3%83%BC%E3%82%B9%E3%81%AE%E3%83%AB%E3%83%BC%E3%83%88%E3%81%A8%E3%81%AA%E3%82%8B%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E6%8C%87%E5%AE%9A\"\u003e(2)-1 コンテンツベース(公開するリソースのルートとなるディレクトリ)の指定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-2-%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%AB%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AEpublicpath%E3%81%AE%E6%8C%87%E5%AE%9A\"\u003e(2)-2 バンドルにアクセスするためのpublicPathの指定\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%83%90%E3%83%B3%E3%83%89%E3%83%AB%E3%81%AF%E3%83%A1%E3%83%A2%E3%83%AA%E4%B8%8A%E3%81%AB%E3%81%82%E3%82%8A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%A8%E3%81%97%E3%81%A6%E3%81%AE%E5%AE%9F%E6%85%8B%E3%81%AF%E7%84%A1%E3%81%84\"\u003e※バンドルはメモリ上にありファイルとしての実態は無い\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#2-3-%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E3%83%99%E3%83%BC%E3%82%B9%E3%81%AB%E7%BD%AE%E3%81%8B%E3%82%8C%E3%81%9F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%ABhtml%E3%82%84css%E3%81%AA%E3%81%A9%E3%81%AE%E5%A4%89%E6%9B%B4%E3%82%92%E7%9B%A3%E8%A6%96%E3%81%99%E3%82%8B\"\u003e(2)-3 コンテンツベースに置かれたファイル(htmlやcssなど)の変更を監視する\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#3hmrhot-module-replacement%E3%81%AE%E8%A8%AD%E5%AE%9A\"\u003e(3)HMR(Hot Module Replacement)の設定\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#3-1-hmrhot-module-replacement%E3%82%92%E6%9C%89%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\"\u003e(3)-1 HMR(Hot Module Replacement)を有効にする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3-2-hmr%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%81%AF%E5%86%8D%E8%AA%AD%E8%BE%BC%E3%81%97%E3%81%AA%E3%81%84%E8%A8%AD%E5%AE%9A%E3%81%AB%E3%81%99%E3%82%8B\"\u003e(3)-2 HMRに失敗した場合には再読込しない設定にする\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#3-3-hmrhot-module-replacement%E3%82%92%E7%84%A1%E5%8A%B9%E3%81%AB%E3%81%99%E3%82%8B\"\u003e(3)-3 HMR(Hot Module Replacement)を無効にする\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\u003cli\u003e\n\u003ca href=\"#4%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\"\u003e(4)ブラウザを自動的に起動する\u003c/a\u003e\n\u003cul\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ca href=\"#4-1-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\"\u003e(4)-1 サーバー起動時にブラウザを自動的に起動する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#4-2-%E3%82%B5%E3%83%BC%E3%83%90%E3%83%BC%E8%B5%B7%E5%8B%95%E6%99%82%E3%81%AB%E6%8C%87%E5%AE%9A%E3%81%97%E3%81%9F%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E8%87%AA%E5%8B%95%E7%9A%84%E3%81%AB%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\"\u003e(4)-2 サーバー起動時に指定したページを自動的に起動する\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%99%E3%82%8B%E3%81%A8-invalid-host-header-%E3%81%8C%E5%87%BA%E3%82%8B%E5%A0%B4%E5%90%88\"\u003eアクセスすると Invalid Host header が出る場合\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#%E8%A8%AD%E5%AE%9A%E4%BE%8B\"\u003e設定例\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\n\n\n"}</script>
      
</div></div></div><div class="p-items_container"><div class="p-items_leftDummy"></div><div class="p-items_main"><div class="p-items_aside mt-5"><div id="logly-lift-4279494" /></div><div class="p-items_aside mt-4"><div class="p-items_footnote"><ul class="references js-referencesView mt-5"><li class="references_header"><i class="fa fa-fw fa-link"></i> この記事は以下の記事からリンクされています</li><li class="references_reference js-reference"><a href="/Takumi_Kaibara/items/c3c309461e796451a64c#_reference-cdc03762c73f15a98058"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/218398/profile-images/1542861617" />webpack-dev-serverでHRMを実装してみた</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2018-11-06T05:16:12+00:00">約1年前</time></li><li class="references_reference js-reference"><a href="/guttyar2213/items/e583760192d0926bc2ae#_reference-858cbec234909c9845b4"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/330547/profile-images/1545556817" />webpack-dev-serverでtypescript, eslintを使ってコンパイルすると無限ループになる時の対処</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2019-04-12T09:55:48+00:00">8ヶ月前</time></li><li class="references_reference js-reference"><a href="/TakuyaHanada/items/8941b78cb59327ca78ab#_reference-d2cbb5bfd489222002c2"><img alt="" width="18" height="18" src="https://s3-ap-northeast-1.amazonaws.com/qiita-image-store/0/352836/a06cb9bca0b7f5d413be42b85699481bfe872c8c/large.png?1574426543" />2019年のフロントエンドエンジニアへの道のり?パッケージマネージャ編?</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2019-05-26T11:40:57+00:00">6ヶ月前</time></li><li class="references_reference js-reference"><a href="/riversun/items/e2ab9ac8aa4bde643641#_reference-231b9cd3882f2a4afc35"><img alt="" width="18" height="18" src="https://qiita-image-store.s3.amazonaws.com/0/170905/profile-images/1542519361" />expressにwebpack-dev-serverを組み込んでフロントエンドとサーバーサイドを同時にサクサク開発するハンズオン 〜Auto Reloadで幸せに〜</a><span>からリンク</span><time class="references_datetime js-dateTimeView" datetime="2019-06-23T23:51:34+00:00">5ヶ月前</time></li></ul></div></div><div class="p-items_aside mt-5"><div class="itemsShowComment_wrapper" id="comments"><div id="PublicCommentListContainer-react-component-dcd36f57-6939-4f0f-8452-830adfe5b329"></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="PublicCommentListContainer" data-dom-id="PublicCommentListContainer-react-component-dcd36f57-6939-4f0f-8452-830adfe5b329">{"currentUser":{"contribution":1,"created_at":"2019-05-19T10:19:50+09:00","id":419770,"is_admin":false,"profile_image_url":"https://qiita-user-profile-images.imgix.net/https%3A%2F%2Flh3.googleusercontent.com%2F-tOmemluaza8%2FAAAAAAAAAAI%2FAAAAAAAAAA8%2FWrK0APpLeWk%2Fs50%2Fphoto.jpg?ixlib=rb-1.2.2\u0026auto=compress%2Cformat\u0026lossless=0\u0026w=48\u0026s=d0bef76cf8780bbd6f8b46fc1d5fe5de","suspended":false,"url_name":"taisei-fej"},"initialComments":[],"monthly_public_image_uploadable_size_limit":104857600,"total_uploaded_public_image_size_in_current_month":0,"item":{"id":694001,"uuid":"d27f6d3ab7aaa119deab","suspended":false,"secret":false},"owner":{"url_name":"riversun"},"is_team":false,"is_project":false,"logged_in":true,"polling":false,"mention_candidates":[{"id":170905,"url_name":"riversun","profile_image_url":"https://qiita-image-store.s3.amazonaws.com/0/170905/profile-images/1542519361"}],"csrfToken":"gB9Zlp6ZtFWcmWfgzHuFtL/3siBztbSfCiAHU5djkxm6+uwREKcpTHvmp33qga6xb592rQKtwXHyvLYuYydk2Q=="}</script>
      
</div></div></div><div class="p-items_rightDummy"></div></div></article><div class="TagList__label" style="display:none"><span></span><span>JavaScript</span></div><div class="TagList__label" style="display:none"><span></span><span>Node.js</span></div><div class="TagList__label" style="display:none"><span></span><span>webpack</span></div><div class="TagList__label" style="display:none"><span></span><span>webpack-dev-server</span></div><div class="js-report-form modal fade reportForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">問題がある記事を報告する</h4></div><div class="modal-body"><form class="new_public_issue_report" id="new_public_issue_report" action="/api/internal/issue_reports" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="T3yNijLZrrsE0z2Rqp37oqt3o0IOVGyZDUKp5oMtmokSg20s1ErIWjGQzSIi5qRB0T/bur29ZNdl1pbEq951ow==" /><input type="hidden" value="PublicDomainArticle" name="public_issue_report[target_type]" id="public_issue_report_target_type" /><input type="hidden" value="694001" name="public_issue_report[target_id]" id="public_issue_report_target_id" /><p>この投稿にどのような問題がありますか？</p><br /><div class="form-group"><ul class="list-unstyled"><li><label><input required="required" type="radio" value="spam" name="public_issue_report[reason]" id="public_issue_report_reason_spam" /> スパムです </label></li><li><label><input required="required" type="radio" value="harassment" name="public_issue_report[reason]" id="public_issue_report_reason_harassment" /> 攻撃的または迷惑な内容を含んでいます </label></li><li><label><input required="required" type="radio" value="inappropriate_content" name="public_issue_report[reason]" id="public_issue_report_reason_inappropriate_content" /> 不適切な内容を含んでいます </label></li></ul></div><div class="reportForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary reportForm_submitButton"><i class="fa fa-send"></i> 送信</button></div></form></div></div></div></div><script src="//d-cache.microad.jp/js/td_qt_access.js" type="text/javascript"></script><script>microadTd.QT.start({"article_category": "JavaScript,Node.js,webpack,webpack-dev-server"})</script><script>(function(d,u){var b=d.getElementsByTagName("script")[0],j=d.createElement("script");j.async=true;j.src=u;b.parentNode.insertBefore(j,b);})(document,"//img.ak.impact-ad.jp/ut/ff9a3577423c8ed5_4330.js");</script><noscript><iframe frameborder="0" height="0" src="//nspt.unitag.jp/ff9a3577423c8ed5_4330.php" width="0"></iframe></noscript></div><footer class="footer"><div class="footer_inner"><div class="footer_container"><ul class="footer_links-left"><li class="footer_link"><a class="footer_copyright" href="http://increments.co.jp">? 2011-2019 Increments Inc.</a></li><li class="footer_link"><a href="https://qiita.com/terms">利用規約</a></li><li class="footer_link"><a target="_blank" href="http://help.qiita.com/ja/articles/qiita-community-guideline">ガイドライン</a></li><li class="footer_link"><a href="https://qiita.com/privacy">プライバシー</a></li><li class="footer_link"><a href="https://help.qiita.com">ヘルプ</a></li></ul><ul class="footer_links-right"><li class="footer_link"><a href="https://qiita.com/about">Qiitaとは</a></li><li class="footer_link"><a href="/users">ユーザー</a></li><li class="footer_link"><a href="/tags">タグ</a></li><li class="footer_link"><a href="/items">記事</a></li><li class="footer_link"><a href="https://blog.qiita.com">ブログ</a></li><li class="footer_link"><a href="https://qiita.com/api/v2/docs">API</a></li><li class="footer_link"><a href="https://jobs.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita Jobs</a></li><li class="footer_link"><a href="https://teams.qiita.com/">Qiita:Team</a></li><li class="footer_link"><a target="_blank" href="https://zine.qiita.com?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">Qiita:Zine</a></li><li class="footer_link"><a target="_blank" href="https://qiita.com/ads?utm_source=qiita&amp;utm_medium=referral&amp;utm_content=footer">広告掲載</a></li><li class="footer_link"><a class="js-public-form-feedback-link" data-target=".js-feedback-form" data-toggle="modal" href=""><i class="fa fa-heart"></i> ご意見 <i class="fa fa-caret-down"></i></a></li></ul></div></div></footer><div class="js-feedback-form modal fade feedbackForm"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button name="button" type="submit" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title">ご意見</h4></div><div class="modal-body"><form class="js-feedback-form-form" action="/feedbacks" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="&#x2713;" /><input type="hidden" name="authenticity_token" value="UzJOS53XHRIUYTtvq5Gmjqh0K3JefgV00n/dLPTVwWV+tYcai5f8cXWNrT92WxxkVLS7W+XhET8bK3obGCiQtQ==" /><input type="hidden" name="redirect_path" id="redirect_path" value="/riversun/items/d27f6d3ab7aaa119deab" /><div class="form-group"><textarea name="feedback[message]" id="feedback_message" class="form-control js-feedback-form-text-area" placeholder="Qiitaについてのご意見をお聞かせください。" required="required" rows="5">
</textarea></div><div class="feedbackForm_submitButtonContainer"><button name="button" type="submit" class="btn btn-primary feedbackForm_submitButton"><i class="fa fa-send"></i> 送信</button><p class="feedbackForm_note">いただいたご意見への返信は行っておりません。<br />返信の必要な内容については、<a href="https://increments.zendesk.com/hc/ja/requests/new">こちら</a> からお問い合わせください。</p></div><div style="position:fixed;top:-99999px;opacity:0.0001;"><input name="feedback[name]" type="text" /></div></form></div></div></div></div><script>// if (window.mixpanel instanceof Element) {
//   window.mixpanel = [];
// }
// (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.set_once people.increment people.append people.track_charge people.clear_charges people.delete_user".split(" ");
// for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="//cdn.mxpnl.com/libs/mixpanel-2.2.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);</script><script src="https://cdn.qiita.com/assets/public-dd7735a4a6ca9549c919b87221743947.min.js"></script></body></html>